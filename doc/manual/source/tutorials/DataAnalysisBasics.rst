.. _DataAnalysisBasics:

Data Analysis Basics
====================

Data analysis in Enzo can be complicated. There are excellent premade
packages available for doing Enzo data analysis.  However, it is likely
that your data analysis needs will grow beyond these tools.

Using YT to Analyze Data
------------------------

If you have installed `YT <http://yt.enzotools.org/>`_ along with
Enzo (as suggested in the
build instructions :ref:`obtaining_and_building_enzo`), you
should be able to use it to find halos, examine profiles, prepare
plots and handle data directly via physically meaningful objects.
`Documentation <http://yt.enzotools.org/doc/>`_, a
`wiki <http://yt.enzotools.org/wiki>`_ and a
`mailing list <http://lists.spacepope.org/listinfo.cgi/yt-users-spacepope.org>`_
are available for support and assistance with installation and
usage as well as a brief introduction in these documents :ref:`analyzing_with_yt`

Analysis with VisIt
-------------------

Another tool that has a native reader for Enzo data is
`VisIt <https://wci.llnl.gov/codes/visit/>`_, a parallel VTK-based
visualization and analysis tool.

From the `VisIt Users website <http://visitusers.org/>`_:

    VisIt is a free interactive parallel visualization and graphical
    analysis tool for viewing scientific data on Unix and PC platforms.
    Users can quickly generate visualizations from their data, animate
    them through time, manipulate them, and save the resulting images
    for presentations. VisIt contains a rich set of visualization
    features so that you can view your data in a variety of ways. It
    can be used to visualize scalar and vector fields defined on two-
    and three-dimensional (2D and 3D) structured and unstructured
    meshes. VisIt was designed to handle very large data set sizes in
    the tera- to peta-scale range and yet can also handle small data
    sets in the kilobyte range.


The caveat is that as of version 1.11.2, VisIt only understands the
original unpacked AMR format. However, the packed-AMR is in the
VisIt development version, and will be included in the next release
(1.12). If would like this functionality sooner, it's not too much
work. Here's how to begin:


#. Download the following:
   
   -  The
      ` 1.11.2 source distribution <https://wci.llnl.gov/codes/visit/1.11.2/visit1.11.2.tar.gz>`_
   -  The
      ` 1.11.2 build_visit script <https://wci.llnl.gov/codes/visit/1.11.2/build_visit>`_
   -  An updated
      ` avtEnzoFileFormat.C <https://email.ornl.gov/pipermail/visit-developers/attachments/20090406/b8dc7fe5/avtEnzoFileFormat.C>`_
   -  An updated
      ` avtEnzoFileFormat.h <https://email.ornl.gov/pipermail/visit-developers/attachments/20090406/b8dc7fe5/avtEnzoFileFormat.h>`_

#. Untar the source tar file,
#. replace the two files named avtEnzo\* in
   visit1.11.2/src/databases/Enzo/ with the ones you've just
   downloaded, and
#. retar the file, keeping the same directory structure.

(You can do this without untarring and retarring, but this is a bit
clearer for those not familiar with tar.)
From this point, you can
` build and install VisIt using the build_visit script <http://visitusers.org/index.php?title=Build_visit_overview>`_.
When you do this, remember to do two things:


-  Use the
   ` TARBALL <http://visitusers.org/index.php?title=Build_visit_overview#Tarball_.28-t_CLI_option.2C_VISIT_FILE_env_variable.29>`_
   option to specify the tar file for the script to unpack. Failing to
   do this will cause the script to download a new tar file, without
   the changes that you need.
-  Select **both**
   ` HDF5 <http://visitusers.org/index.php?title=Build_visit_overview#HDF5_.28--hdf5_CLI_option.2C_HDF5_FILE.2C_HDF5_VERSION.2C_and_HDF5_DIR__env_variables.29>`_
   and
   ` HDF4 <http://visitusers.org/index.php?title=Build_visit_overview#HDF4_.28--hdf4_CLI_option.2C_HDF4_FILE.2C_HDF4_VERSION.2C_and_HDF4_DIR__env_variables.29>`_
   as optional third-party libraries. This may not strictly be
   necessary, if you already have HDF5 and HDF4 installed on your
   system, but the script isn't clear on how to specify which HDF5
   installation to use. (HDF4 needs to be available to satisfy a
   dependency check for building the Enzo reader. We'll ask to have
   this updated in future versions of VisIt.)

Example Data and Analysis
-------------------------

The sample data generated by this simulation is
`available online <http://lca.ucsd.edu/software/enzo/data/cookbook/>`_.
You can use it as sample data for the the
`YT tutorial <http://yt-project.org/doc/orientation/>`_.



